(window.webpackJsonpnew=window.webpackJsonpnew||[]).push([[0],{107:function(e,t,a){e.exports=a(115)},112:function(e,t,a){},114:function(e,t,a){e.exports=a.p+"static/media/europe_cont.43acfcc8.png"},115:function(e,t,a){"use strict";a.r(t);var n=a(14),l=a.n(n),o=a(97),r=a.n(o),i=a(98),c=a(99),s=a(100),u=a(105),m=a(101),p=a(106),f=(a(112),a(95)),d=a(94),b=a(104);function y(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?y(a,!0).forEach(function(t){Object(i.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):y(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(m.a)(t).call(this,e))).state={countries:null,showStateInfo:[{name:"",nativeName:"",capital:"",population:"",region:"",subRegion:"",language:"",about:null,image:null,area:null}],timezones:[],wiki:[],images:[],viewFullImgState:!1,countryImg:"",countryFullImg:"",countryFlag:"",openAbout:!1},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=f.b("chartdiv",d.a),t=this,a=document.querySelector(".img_loader");e.geodata=b.a,e.projection=new d.c.Miller;var n=e.series.push(new d.b);n.useGeodata=!0;var l=n.mapPolygons.template;l.tooltipText="{name}",l.fill=f.a("#74B266"),e.responsive.enabled=!0,e.zoomOnDoubleClick=!1,l.states.create("hover").properties.fill=f.a("#367B25"),fetch("https://restcountries-v1.p.rapidapi.com/all",{method:"GET",headers:{"x-rapidapi-host":"restcountries-v1.p.rapidapi.com","x-rapidapi-key":"59f67f4fc3mshefbad1a9049e04bp1fc2f3jsn226af0858736"}}).then(function(e){return e.json()}).then(function(e){return JSON.stringify(e)}).then(function(e){return t.setState({countries:e})}),l.events.on("hit",function(n){t.openCountryInfo(),t.state.openAbout&&t.setState({openAbout:!1});var l=n.target.dataItem.dataContext.name,o=n.target.dataItem.dataContext.id;fetch("https://restcountries.eu/rest/v2/alpha/"+o,{method:"GET"}).then(function(e){return e.json()}).then(function(e){return t.setState({countryFlag:e.flag})}),a.style.display="block",fetch("https://api.unsplash.com/search/photos?page=1&client_id=acc065f731f1ce6abb0a114f8404e28db5ee228b35ea8ae5285afc2967f0372d&query="+l).then(function(e){return e.json()}).then(function(e){return JSON.stringify(e)}).then(function(e){return JSON.parse(e)}).then(function(e){return t.setState({images:e})}).then(function(){a.style.display="none";var e=t.state.images.results,n=[];for(var l in e)n.push(e[l].urls.small,e[l].urls.full);t.setState({countryImg:n[0],countryFullImg:n[1]})}),fetch("https://en.wikipedia.org/w/api.php?&origin=*&action=opensearch&search="+l+"&limit=3").then(function(e){return e.json()}).then(function(e){return t.setState({wiki:e[2]})}),e.zoomToMapObject(n.target);var r=JSON.parse(t.state.countries),i=function(e){if(r[e].name===l){var a=[];t.setState(function(t){return{showStateInfo:[h({},t.showStateInfo,{name:r[e].name,nativeName:r[e].nativeName,capital:r[e].capital,population:r[e].population.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","),region:r[e].region,subRegion:r[e].subregion,language:r[e].languages,area:r[e].area?r[e].area.toString().replace(/\B(?=(\d{3})+(?!\d))/g,","):" -"})]}}),a.push(r[e].timezones),t.setState({timezones:a[0]})}};for(var c in r)i(c)}),document.querySelector('[aria-labelledby="id-72-title"]').style.display="none"}},{key:"openWiki",value:function(){var e=this.state.showStateInfo,t="";for(var a in e)t=e[a].name;window.open("https://en.wikipedia.org/wiki/"+t,"_blank")}},{key:"openAbout",value:function(){this.setState({openAbout:!this.state.openAbout})}},{key:"openCountryInfo",value:function(){var e=document.querySelector(".wrap_state_info"),t=document.querySelector(".close_wrap_state_info"),a=document.querySelector(".open_wrap_state_info");setTimeout(function(){a.style.display="none",e.style.width="360px",t.style.display="block"},500)}},{key:"closeCountryInfo",value:function(){var e=document.querySelector(".wrap_state_info"),t=document.querySelector(".close_wrap_state_info"),a=document.querySelector(".open_wrap_state_info");setTimeout(function(){e.style.width="0",a.style.display="block",t.style.display="none"},500)}},{key:"openStateInfoArrow",value:function(){var e=document.querySelector(".wrap_state_info"),t=document.querySelector(".close_wrap_state_info"),a=document.querySelector(".open_wrap_state_info");setTimeout(function(){a.style.display="none",e.style.width="360px",t.style.display="block"},500)}},{key:"viewFullImg",value:function(){this.setState({viewFullImgState:!this.state.viewFullImgState})}},{key:"render",value:function(){var e=this;return l.a.createElement("div",null,l.a.createElement("div",{className:"container-fluid p-0 m-0"},l.a.createElement("div",{id:"chartdiv",className:"col-12"}),this.state.viewFullImgState?l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 bgdrop_modal",onClick:function(){return e.viewFullImg()}},l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{id:"country_photo_viewer",className:"col-md-11 col-lg-10 col-xl-8"},l.a.createElement("img",{src:this.state.countryFullImg,title:"",alt:""}))))):"",l.a.createElement("div",{className:"close_wrap_state_info",title:"Close info","aria-label":"close country info",onClick:function(){return e.closeCountryInfo()}},"\xab"),l.a.createElement("div",{className:"open_wrap_state_info",title:"Open info","aria-label":"open country info",onClick:function(){return e.openStateInfoArrow()}},"\xbb"),l.a.createElement("div",{className:"wrap_state_info"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"wrapper_state_info"},this.state.showStateInfo.map(function(t,a){return l.a.createElement("ul",{key:a},l.a.createElement("li",{className:"li_country_photo"},l.a.createElement("span",{className:"row rowz"},l.a.createElement("span",{className:"zoom_img_icon","aria-label":"view full image",onClick:function(){return e.viewFullImg()}})),l.a.createElement("span",{className:"row justify-content-center"},l.a.createElement("span",{className:"img_loader"},l.a.createElement("span",null),l.a.createElement("span",null),l.a.createElement("span",null))),e.state.countryImg?l.a.createElement("img",{className:"country_photo",alt:"",src:e.state.countryImg}):""),l.a.createElement("li",null,l.a.createElement("span",{className:"row justify-content-center"},l.a.createElement("img",{src:e.state.countryFlag,title:t.name,alt:"","aria-label":"country flag",className:"country_flag"}))),l.a.createElement("span",{className:"hz_line"}),l.a.createElement("br",null),l.a.createElement("li",{className:"li_info li_info_name","aria-label":"country name"},"Name: ",l.a.createElement("span",null,t.name)," "),l.a.createElement("li",{className:"li_info","aria-label":"native name"},"Native name: ",l.a.createElement("span",null,t.nativeName)),l.a.createElement("li",{className:"li_info","aria-label":"capital"},"Capital: ",l.a.createElement("span",null,t.capital)),l.a.createElement("li",{className:"li_info","aria-label":"population number"},"Population: ",l.a.createElement("span",null,t.population)),l.a.createElement("li",{className:"li_info","aria-label":"region"},"Region: ",l.a.createElement("span",null,t.region)),l.a.createElement("li",{className:"li_info","aria-label":"subregion"},"Subregion: ",l.a.createElement("span",null,t.subRegion)),l.a.createElement("li",{className:"li_info","aria-label":"country language"},"Language: ",l.a.createElement("span",null,t.language[0])),l.a.createElement("li",{className:"li_info li_info_area","aria-label":"country area"},"Area:",l.a.createElement("span",null,t.area?l.a.createElement("span",null," ",t.area):""),l.a.createElement("span",null," km2")),l.a.createElement("li",{className:"li_info li_info_timezone","aria-label":"timezone"},"Timezone:",e.state.timezones.map(function(e,t){return l.a.createElement("span",{className:"span_timezone",key:t}," ",e," ")})),l.a.createElement("span",{className:"hz_line"}),l.a.createElement("li",{className:"li_info li_info_about","aria-label":"about country"},"About:",0!==e.state.wiki.length?l.a.createElement("span",{className:"wiki_link",title:"See more about","aria-label":"see more about this country on wikipedia",onClick:function(){return e.openWiki()}},"( Wikipedia )"):"",0!==e.state.wiki.length?l.a.createElement("span",{className:"item_about_scroll"}):""),l.a.createElement("li",{className:"li_about"},l.a.createElement("label",{className:"item_about_label","aria-label":e.state.wiki},e.state.wiki)))})))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"about_row"},l.a.createElement("span",{"aria-label":"go to ionutdev.com"},l.a.createElement("a",{href:"http://ionutdev.com"},"@ionutdev.com"),", 2019 - "),l.a.createElement("span",{onClick:function(){return e.openAbout()}},"About"))),this.state.openAbout?l.a.createElement("div",{className:"about_div"},l.a.createElement("div",{className:"about_div_bubble"},l.a.createElement("span",{className:"close_about",onClick:function(){return e.openAbout()}},"\xd7"),l.a.createElement("img",{src:a(114),title:"",alt:""}),l.a.createElement("div",{className:"row justify-content-center"},l.a.createElement("div",{className:"about_txt"},l.a.createElement("p",null,"API content info:"),l.a.createElement("span",null,l.a.createElement("a",{href:"http://amcharts.com"},"Amcharts.com")),l.a.createElement("span",null,l.a.createElement("a",{href:"http://rapidapi.com"},"RapidAPI.com")),l.a.createElement("span",null,l.a.createElement("a",{href:"http://unsplash.com"},"Unsplash.com")),l.a.createElement("span",null,l.a.createElement("a",{href:"http://wikipedia.org"},"Wikipedia.org")))))):""))}}]),t}(l.a.Component);r.a.render(l.a.createElement(g,null),document.getElementById("root"))}},[[107,1,3]]]);
//# sourceMappingURL=main.feb4f9d7.chunk.js.map